<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>카렌다</title>
    <script>
        let obj = {
            id: 'hong',
            age: 20
        }
        obj = {} // new Object();
        let ary = [] // new Array();
        let today = new Date();
        // console.log('1')
        // today.getFullYear(); Date 객체의 메소드
        document.addEventListener('DOMContentLoaded', function () {
            // console.log('2');
            let firstDay = new Date(2022, 10, 1);
            let thisDay = firstDay.getDay(); // 오늘날짜의 요일정보를 리턴. 일요일이 0
            let lastDate = new Date(2022, 9, 0); // 마지막 날짜 출력하깅

            console.log(thisDay)
            let table = document.createElement('table');
            table.setAttribute('border', '1');

            let tbody = document.createElement('tbody');
            let day = ['일', '월', '화', '수', '목', '금', '토']
            for (let i = 0; i < day.length; i++) {
                let th = document.createElement('th');
                th.textContent = day[i];
                tbody.append(th);
            }
            tbody.firstChild.setAttribute('style', 'color: red');
            tbody.lastElementChild.setAttribute('style', 'color: blue');

            let tr = document.createElement('tr');
            tbody.append(tr);


            // 요일지정.
            for (let i = 0; i < thisDay; i++) {
                let td = document.createElement('td');
                tr.append(td);
            }
            for (let i = 1; i <= lastDate.getDate(); i++) {
                let td = document.createElement('td');
                td.textContent = i;
                tr.append(td);
                
                if (i % 7 == 6) {
                    td.setAttribute('style', 'color: red');
                } else if (i % 7 == 5) {
                    td.setAttribute('style', 'color: blue');
                }else if(td.textContent == today.getDate()){
                    td.setAttribute('style', 'background-color: yellow');
                } 
               
                if ((i + thisDay) % 7 == 0) {
                    tr = document.createElement('tr');
                    tbody.append(tr);
                    console.log(tbody.firstElementChild);
                }
            }
           
            table.append(tbody);
            tbody.append(tr);
            document.getElementById('show').append(table);
        })
        // console.log('3')

        // 1->3->2 순으로 출력(실행)됨. 이벤트가 실행되는데까지 딜레이가 있어서
    </script>
</head>

<body>
    <div id="show">
    </div>
</body>

</html>